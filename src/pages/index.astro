---
import Layout from "../layouts/Layout.astro";
import { ACCOUNTS } from "../config/accounts";

const testAccounts = ACCOUNTS.filter(a => a.key === "test" || a.key === "smurf-test");
const mainAccounts = ACCOUNTS.filter(a => a.key !== "test" && a.key !== "smurf-test");
---

<Layout title="Dashboard">
  <div class="animate-fadeIn pb-20">
    <!-- Hero section -->
    <div class="text-center mb-12">
      <div class="inline-flex items-center gap-2 px-4 py-1.5 mb-4 rounded-full bg-indigo-500/10 border border-indigo-500/20 backdrop-blur-sm">
        <span class="w-2 h-2 rounded-full bg-indigo-400 animate-pulse"></span>
        <span class="text-xs font-semibold text-indigo-300 uppercase tracking-wider">Live Tracking</span>
      </div>
      <h1 class="text-4xl md:text-5xl font-black mb-3 tracking-tight">
        <span class="bg-gradient-to-r from-white via-gray-100 to-gray-300 bg-clip-text text-transparent">
          Cuentas rastreadas
        </span>
      </h1>
      <p class="text-gray-500 text-base max-w-md mx-auto">
        MonitoreÃ¡ partidas en vivo y detectÃ¡ smurfs automÃ¡ticamente
      </p>
    </div>

    <!-- Search bar -->
    <div class="max-w-xl mx-auto mb-14">
      <a
        href="/search"
        class="group flex items-center gap-4 w-full px-6 py-4 bg-gradient-to-r from-gray-800/40 to-gray-800/20 border border-gray-700/40 rounded-2xl text-gray-500 hover:border-indigo-500/50 hover:text-gray-300 transition-all backdrop-blur-sm hover:from-gray-800/60 hover:to-gray-800/40 hover:shadow-2xl hover:shadow-indigo-500/10 hover:scale-[1.02]"
      >
        <div class="p-2 bg-gray-700/30 rounded-xl group-hover:bg-indigo-500/20 transition-colors">
          <svg class="w-5 h-5 text-gray-500 group-hover:text-indigo-400 transition-colors" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <circle cx="11" cy="11" r="8"></circle>
            <path d="M21 21l-4.35-4.35"></path>
          </svg>
        </div>
        <span class="text-base font-medium">Buscar cualquier invocador...</span>
        <div class="ml-auto text-xs text-gray-600 font-mono border border-gray-700/40 px-2 py-1 rounded-lg group-hover:border-indigo-500/30 group-hover:text-indigo-400 transition-colors">
          âŒ˜K
        </div>
      </a>
    </div>

    <!-- Main accounts grid -->
    <div class="mb-16">
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5">
        {
          mainAccounts.map((a, i) => (
            <a
              href={`/game/${a.key}`}
              class="group relative block rounded-2xl overflow-hidden transition-all duration-300 border border-gray-800/60 hover:border-indigo-500/40 hover:shadow-2xl hover:shadow-indigo-500/10 hover:-translate-y-2 animate-slideUp"
              style={`animation-delay: ${i * 40}ms`}
            >
              {/* Animated gradient border */}
              <div class="absolute inset-0 bg-gradient-to-br from-indigo-500/0 via-purple-500/0 to-pink-500/0 group-hover:from-indigo-500/10 group-hover:via-purple-500/5 group-hover:to-pink-500/10 transition-all duration-500 pointer-events-none" />
              
              {/* Shine effect */}
              <div class="absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500">
                <div class="absolute inset-0 bg-gradient-to-r from-transparent via-white/5 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000" />
              </div>
              
              <div class="relative bg-gradient-to-br from-gray-900/90 to-gray-900/60 backdrop-blur-sm p-6">
                <div class="text-center space-y-3">
                  <div class="text-lg font-bold text-white truncate group-hover:text-indigo-300 transition-colors">
                    {a.label ?? a.riotId.gameName}
                  </div>
                  <div class="text-sm text-gray-500 font-medium">
                    #{a.riotId.tagLine}
                  </div>
                  <div class="inline-flex items-center gap-2 px-3 py-1.5 text-xs rounded-xl bg-gray-800/80 text-gray-400 font-semibold border border-gray-700/40 group-hover:border-indigo-500/30 group-hover:bg-indigo-500/10 group-hover:text-indigo-300 transition-all">
                    <span class="w-1.5 h-1.5 rounded-full bg-emerald-500 group-hover:animate-pulse" />
                    {a.platform}
                  </div>
                </div>
              </div>
            </a>
          ))
        }
      </div>
    </div>

    <!-- Test accounts section -->
    <div class="mt-20 pt-8 border-t border-gray-800/50">
      <div class="flex items-center gap-3 mb-6">
        <div class="flex-1 h-px bg-gradient-to-r from-transparent via-gray-700/50 to-transparent" />
        <div class="flex items-center gap-2 px-4 py-1.5 rounded-full bg-gray-800/40 border border-gray-700/40">
          <span class="text-xl">ðŸ§ª</span>
          <span class="text-xs font-bold text-gray-500 uppercase tracking-wider">Testing Accounts</span>
        </div>
        <div class="flex-1 h-px bg-gradient-to-r from-transparent via-gray-700/50 to-transparent" />
      </div>
      
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4 max-w-4xl mx-auto">
        {
          testAccounts.map((a, i) => (
            <a
              href={`/game/${a.key}`}
              class="group relative block rounded-xl overflow-hidden transition-all border border-gray-800/40 hover:border-yellow-500/30 hover:shadow-xl hover:shadow-yellow-500/10 hover:-translate-y-1 animate-slideUp"
              style={`animation-delay: ${i * 50}ms`}
            >
              <div class="absolute inset-0 bg-gradient-to-b from-yellow-500/0 to-yellow-500/0 group-hover:from-yellow-500/5 group-hover:to-yellow-500/5 transition-all pointer-events-none" />
              
              <div class="relative bg-gray-900/40 backdrop-blur-sm p-4">
                <div class="text-center space-y-2">
                  <div class="text-base font-bold text-gray-400 truncate group-hover:text-yellow-300 transition-colors">
                    {a.label ?? a.riotId.gameName}
                  </div>
                  <div class="text-xs text-gray-600 font-medium">
                    #{a.riotId.tagLine}
                  </div>
                  <div class="inline-flex items-center gap-1.5 px-2 py-1 text-[10px] rounded-lg bg-gray-800/60 text-gray-500 font-medium border border-gray-700/30">
                    <span class="w-1 h-1 rounded-full bg-gray-600" />
                    {a.platform}
                  </div>
                </div>
              </div>
            </a>
          ))
        }
      </div>
    </div>
  </div>
</Layout>
